---
tags:
  - blog
---

# React-Native에서 Flutter로 전환기

## 이 글의 목적

React-Native(이하 RN)와 Flutter가 큰 차이가 없다고 생각함에도, 5년간의 RN 개발 경험을 뒤로하고 Flutter를 도입한 이유와 개인적으로 느낀 Flutter와 RN의 차이점을 공유하려고 합니다.

## React-Native vs. Flutter

 RN과 Flutter 모두 Android와 iOS를 동시에 개발할수 있는 크로스 플랫폼 모바일 SDK 입니다. 두 SDK 모두 빅테크 대기업(각각 Meta, Google)이 개발을 리드하고 있는 오픈소스이며, 문서가 잘 구성 되어있고 커뮤니티 또한 활발합니다. 이 외에도 Meteor.js, Ionic, .NET MAUI가 있지만, 커뮤니티의 활성도로 인해 많은 분들이 RN 혹은 Flutter를 선택하는 것으로 알고 있습니다.

두 SDK를 비교할때, "RN은 웹과의 호완성이 좋다", "Flutter의 퍼포먼스가 더 우월하다"등의 이유로 각각의 장점을 강조하지만, 개인적인 경험으로는 어느것이 확실하게 우월하다고 말할 수 있을 만큼 차이가 크지 않은 것 같습니다.

Flutter의 단점으로 dart라는 새로운 언어를 배워야 한다는 점을 지적하지만, 서비스 개발 전과정을 놓고본다면 유사하다고 생각합니다. RN을 처음 시작한다면, React의 지식으로 RN을 쉽게 배울 수 있다고 착각하기 쉽지만, 실제로는 일정 수준 이상 RN을 학습 해야하고, 기능 구현에 필요한 라이브러리를 많이 학습해야 합니다. 반면에 flutter는 기본으로 제공하는 것이 많아 dart와 flutter 이후에 학습해야 하는 라이브러리가 적습니다. 정확하게 측정한 것은 아니지만, 학습에 투자한 시간은 둘 다 유사했습니다.

"dart 언어 + flutter + 소수의 라이브러리 == RN + 다수의 라이브러리"

## React-Native에서 Flutter로 결정 포인트

RN과 flutter가 큰 차이가 없다고 생각함에도 불구하고, flutter로 바꾼 이유는 당시 회사의 특수적인 상황 때문입니다. 의사결정에 영향을 미친 내용들을 중요도 순서로 나열하면 아래와 같습니다.

1. 긴박한 출시 일정
2. ETC (Easy to change)
3. 구현 난이도

긴박한 출시 일정

당시 개발은 혼자서 앱, 웹, 서버를 모두 책임지며, 한달안에 서비스를 출시 해야하는 상황이었습니다. 팀 합류 이전에 디자인과 기능 일부를 RN과 Express로 구현해 놓은 상황이였지만, 출시하는 서비스의 핵심 포인트가 커뮤니티에서 전자위임으로 바뀌었기에 큰 의미가 없었습니다. 한 달 안에 구현했어야 하는 전자위임 기능은 7개 단계로 구분되어 있었습니다. 

"약관 동의 -> 회원가입 -> 본인 인증 -> 주주 인증 -> 전자 투표 -> 전자 서명 -> 신분증 업로드"

주주인증과 전자투표를 제외하면 일반적인 회원가입 절차와 크게 다르지 않기에, 어느정도 낙관적인 마음가짐을 가지고 업무를 시작했지만, 일주일이 지난 시점 문뜩 출시 직전 자주 겪었던 RN 특유의 버그와 퍼포먼스 이슈가 떠올랐습니다. 그리고 그 생각은 "출시 일은 다가오지만 RN의 알수 없는 버그로 혼자서 2~3일간 아무것도 못하고 시간만 허비하고 있을수도 있다"는 상상으로 이어졌고, 2~3일은 한달 일정을 감안하면 긴 시간이였기에, 아직 버그가 발생하지도 않았지만 상당한 압박감을 느끼게 되었습니다.

그때 당시 Flutter, Meteor.js, Ionic 모두 조금씩 경험이 있었고, 그중에서 flutter가 widget을 잘 사용하면 일정한 퍼포먼스와 중간 이상의 퀄리티를 낼 수 있다고 알고 있었습니다. 일정 산정에 편리한 장점으로 flutter라는 카드를 뽑아들고 고민하기 시작했습니다. 그리고 그때 당시 flutter web이 다른 static web 처럼 빠르고 훌륭하게 작동할 수 있다고 착각하여, 앱과 웹을 동시에 개발한다면  남은 3주라는 일정안에 서비스가 정상적으로 출시 될 수 있지 않을까 생각하였습니다. (경고: Flutter web은 프로토타입이나 대모 용으로서는 매우 훌륭하다고 생각하지만, 프로덕션으로는 현재 3.3 버전 기준으로도 한국인 특유의 빠름빠름 정서에는 잘 안맞는 것 같습니다)

ETC (Easy to change)

일정 다음으로 고민한 사항은 "얼마나 쉽게 유지보수하고 업데이트 할 수 있는가"이였습니다. 한달 안에 어떻게든 출시한다고 하더라도, 충분한 QA를 진행 할 수 없어 버그나 이슈가 많을 것으로 예상했고, 기획 또한 도중에 변경될 가능성이 크다고 생각했습니다.

일정 규모 이상의 팀에서, 넉넉한 일정을 가지고 디자인 시스템부터 component 단위의 UI 개발, back-end와 결합하여 E2E 테스트를 진행할 수 있는 환경이라면, 개인적인 생각으로 크로스 플랫폼 SDK 중 React-Native가 최고라고 생각합니다. 그러나 혼자서 모든 것을 제한된 시간안에 진행 해야한다면 이상적인 개발 과정을 아래와 같이 바꾸어 적당히 타협하는 것이 좋겠다는 생각이 들어, flutter에 대한 확신이 더 커졌습니다.

"디자인 시스템 -> Google의 Material design,  component 단위 UI -> Flutter 기본 widget, 자동화된 E2E 테스트 ->  손으로 직접 E2E 테스트"
(당시에는 Flutter로 E2E 테스트 해본 경험이 없었습니다)

구현 난이도

App으로 구현해야 하는 전자위임이라는 프로세스는, 법적 검토나 UX가 복잡할 수 있지만, 개발은 그저 "조금 어려운" 회원가입 절차로 생각했습니다. 또한 전자서명이나 신분증 업로드 같은 기능들을 RN과 Flutter 모두 샘플 코드와 라이브러리를 찾아볼 수 있었기에, 구현 난이도는 RN과 Flutter 모두 비슷하다고 생각했습니다.

위의 세가지 포인트중 2개의 포인트가 Flutter의 손을 들어주었기에, RN에서 Flutter로 급하게 바꾸었고, 몇일의 딜레이는 있었지만 서비스를 결국 출시할 수 있었습니다. 그 이후에도 많은 어려움이 있었지만, 그래도 주주총회 기간 한달간 총 2,000여명의 주주분들께서 위임을 진행해주셨고 약 1,200억원의 주식을 위임 받았습니다. 또한 3월 31일에는 실시간 주주총회도 진행하여 100여분에게 주주총회 상황을 그래프와 라이브 채팅으로 실시간 중개하였습니다.

## React-Native로 다시 돌아가지 않은 이유

주주총회나 캠페인이 모두 종료된 4월부터 약 3개월간, 서비스를 지속적으로 고도화하면서 RN으로 다시 돌아갈지 여부를 검토하였습니다. 그때 당시 의사결정을 내릴때 중요하게 생각한 포인트는 아래 2개와 같습니다.

채용

신생 스타트업으로서 상품 개발만큼 채용이 중요하기에, 이부분에 대해서 많은 고민과 조사를 했습니다. 22년 4월 기준, RN은 인재 풀이 넓고 react까지 같이 가능하신 경력직 인재분들이 많았습니다. 반면에 Flutter는 인재 풀이 상당히 작고, Android 혹은 Kotlin 경험자 분들이 Flutter로 전향 하고자 하시는 Flutter 신입분들이 많았습니다.

비사이드코리아가 일반적인 커뮤니티 앱일 경우, web의 경험이 더 실무에 도움이 될 수 있다고 생각하겠지만, 금융 분야 앱 특성상 공인인증, MTS 연동등 Native 코드를 같이 사용해야 하는 경우가 종종 있어 Android의 경험이 더 실무에 도움이 될 수 있다고 생각하였습니다. 상대적으로 적은 경력은 회사도 같이 성장해 나아가야하는 부분이 있고, 3개월간의 온보딩 프로세스로 팀 차원에서 같이 노력하면 충분히 극복할수 있다고 판단했습니다.

안정성

RN으로 서비스를 운영하면서 제일 힘든 순간은 라이브러리가 버전 업 되는 상황이였습니다. 특히 RN은 React 처럼 여러가지 라이브러리를 조합해서 사용해야하는 경우가 많은데, 일부 라이브러리는 버전 업하면서 하위 호환이 안되는 경우가 있고, 라이브러리간 충돌이 일어나는 경우도 많았습니다. 또한 일부 라이브러리는 Android와 iOS에서 다르게 보이는 경우가 있어 일일히 확인하여 맞추어야 하는 부분도 있었습니다. 이부분은 오래 전 글이지만 Airbnb의 글이 와닿은 적이 많았습니다.

Most people only know one or two platforms well. We found that most React Native Open source projects were written by people who had experience with only one or two. This led to inconsistencies or unexpected bugs on Android or iOS.

이와 반면에 Flutter의 경우 Getx라는 라이브러리 하나만 잘 사용해도, 네비게이션, 상태관리, 로컬 스토리지, 팝업 UI, i18n 등등 대다수의 기능을 구현 할수 있습니다. 그 외 다른 UI 요소들은 Flutter의 기본 Widget으로도 충분하였기에 안정성이나 호완성 문제는 크게 겪어보지 못하였습니다. (자유도나 의존성 측면에서 Getx에 대해 부정적으로 평가하시는 분들도 있긴 합니다)

## react-native

장점

- ts라는 언어와 react와의 연결성
- 여러 프로젝트 경험
- 채용 풀이 넓음

단점

- 오픈소스 라이브러리 업데이트 문제, 조합 이슈
- react와의 연결성이 좋지 않음
- 가끔씩 발생하는 알수없는 퍼포먼스 이슈

채용 시장 관점

- Kotlin과 flutter
- react와 react-native₩

"RN은 웹과의 호완성이 좋다" 부터 먼저 본다면, 언어나 일부 라이브러리가 React과 동일하거나 비슷하기에 심리적으로 익숙하게 느껴질수 있지만, RN의 슬로건 처럼 "Learn once, write anywhere"과는 다소 거리가 있어 보입니다. 일부 utils 함수, API 통신, 상태관리 코드는 웹과 앱 모두 그대로 사용할 수 있지만, 그 외의 routes, tests, UI components 코드들은 비슷하지만 묘하게 조금씩 달라서 새롭게 다시 작성해야 하는 경우가 많았습니다. 또한 모바일/테블릿 특유의 UI나 기능을 사용해야 하는 경우에는 Native도 같이 학습하면서 모바일 플랫폼에 대한 이해도를 높일 필요가 종종 있었습니다. 만약 웹과 모바일에서 동일한 사용자 경험을 제공하는 것이 목표인 서비스라면 이야기가 조금 다를 수 있겠지만, 개인적으로 경험한 프로젝트들은 대부분 "웹에서 체험해보고 앱으로 유도"이거나 "앱은 사용자 위주로 단순하게, 웹에서는 전문가 위주로 디테일하게"인 경우가 많아 더욱 더 호완성의 장점을 느끼기 어려웠습니다. 극단적인 사례이지만 웹과 앱이 전혀 다른 사용자 경험을 유도할때에는, 팀 내에서 의도적으로 웹과 앱 개발의 차이를 두기 위해, 웹은 Vue.js를 사용하고 앱은 React-Native를 사용한 경험도 있습니다.

"Flutter의 퍼포먼스가 더 우월하다"를 그 다음으로 본다면, 여러 개발자들이 테스트한 데이터로 보면 Flutter가 RN보다 퍼포먼스가 다소 우월한 것은 맞는 것 같지만, 개발 스택을 정할 수 있을 정도로 두드러지는 차이가 있는지는 잘 모르겠습니다. 여러 실험에서 언급된 퍼포먼스 이슈들은 프로젝트가 중반 정도 진행될때 가장 크게 나타나는 것 같습니다. RN에서 form, listView 혹은 애니메이션을 넣을때 별 생각 없이 코드를 작성하다보면 리랜더링이 많이 일어나면서 갑자기 성능이 저하되는 것을 체감 할 수 있었습니다. 그러나 출시 직전에는 RN이나 Flutter 모두 최적화가 일정 수준은 다 필요하고, 퍼포먼스 관련 이슈들을 대부분 이 기간에 해결 될 수 있다고 생각 됩니다. 실제로 RN으로 iOT App을 개발하였을떄에도, 출시 직전까지 많은 어려움이 있었지만, 결국에는 1초에 256개의 데이터 포인트를 블루투스로 수집하고 실시간으로 그래프를 그리는 것에 성공하였고, 현재까지도 글로벌적으로 서비스가 잘 되고 있습니다.
